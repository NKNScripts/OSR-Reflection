program new;
{$i standaloneSMART\standaloneSMART.simba}
{$i OSR-Reflection\OSR Reflection.simba}

var
  Smart: TSmartClient;
  npcs: TNPCArray;

function BankerFilter(n: PNPC): Boolean;
begin
  Result := (Pos('Banker', n^.getName) > 0);
end;

begin
  SMARTSettings.ShowConsole := False;
  SMARTSettings.ForceNew := False;
  Smart.Init;
  SetupOSRReflection(Smart.Target);

  npcs := npcApi.getNpcs(@BankerFilter);
  writeln(npcs.toString);
  npcs.free;

  Smart.Free;
end.
